---
// Importar los iconos directamente desde la biblioteca
import { Icon } from "astro-icon/components";

// Services data
const services = [
  {
    category: "Painting",
    icon: "mdi:paint",
    items: ["Interior and Exterior", "Custom Textures", "Surface Preparation", "Luxury Finishes"],
    image: "/images/services/pintura.jpg",
    color: "from-blue-500 to-blue-600"
  },
  {
    category: "Remodeling",
    icon: "mdi:home",
    items: ["Modern Bathrooms", "Functional Kitchens", "Extensions", "Complete Renovations"],
    image: "/images/services/remodelacion-general.jpg",
    color: "from-blue-500 to-blue-600"
  },
  {
    category: "Drywall & Textures",
    icon: "mdi:wall",
    items: ["Professional Installation", "Repairs", "Ceiling Design", "Special Finishes"],
    image: "/images/services/texture.jpg",
    color: "from-blue-500 to-blue-600"
  },
  {
    category: "Carpentry",
    icon: "mdi:table-furniture",
    items: ["Custom Furniture", "Custom Closets", "Woodworking", "Interior Design"],
    image: "/images/services/carpinteria.jpg",
    color: "from-blue-500 to-blue-600"
  },
  {
    category: "Flooring",
    icon: "mdi:floor-plan",
    items: ["Professional Installation", "Floor Renovation", "Luxury Finishes", "Repairs"],
    image: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?q=80&w=1000&auto=format&fit=crop&h=400",
    color: "from-blue-500 to-blue-600"
  },
  {
    category: "Exteriors",
    icon: "mdi:tree",
    items: ["Landscaping", "Fences and Pergolas", "Social Areas", "Maintenance"],
    image: "https://images.unsplash.com/photo-1585320806297-9794b3e4eeae?q=80&w=1000&auto=format&fit=crop&h=400",
    color: "from-blue-500 to-blue-600"
  }
];
---

<section 
  class="relative py-20 overflow-hidden"
  id="our-services"
  aria-labelledby="services-title"
  style="min-height: 400px; background-image: url('/images/backgrounds/home-bg.jpg'); background-size: cover; background-position: center; background-attachment: scroll;"
>
  <!-- Overlay blanco degradado -->
  <div class="absolute inset-0 z-0" style="background: linear-gradient(to bottom, rgba(255, 255, 255, 0.85), rgba(255, 255, 255, 0.75));"></div>
  
  <div class="container mx-auto px-4 relative z-10">
    <header class="text-center max-w-4xl mx-auto mb-16">
      <span class="inline-block px-4 py-1.5 text-sm font-semibold text-blue-600 bg-blue-100 rounded-full mb-4">
        Our Services
      </span>
      <h2 id="services-title" class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
        Transforming your spaces with <span class="text-blue-500">excellence</span>
      </h2>
      <p class="text-lg text-gray-600 bg-white/80 backdrop-blur-sm rounded-lg px-6 py-4 shadow-sm">
        Comprehensive solutions to bring your construction and remodeling projects to life with the highest quality standards.
      </p>
    </header>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" role="list">
      {services.map((service, index) => (
        <article 
          class="group relative bg-white rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2"

          role="listitem"
          tabindex="0"
        >
          <div class="relative h-56 overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent z-10"></div>
            <img 
              src={service.image} 
              alt={`"${service.category}" - ${service.items.join(', ')}`}
              class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"
              loading={index < 3 ? 'eager' : 'lazy'}
              width={400}
              height={300}
              decoding="async"
              fetchpriority={index < 3 ? 'high' : 'auto'}
            />
            <div class="absolute bottom-4 left-4 flex items-center gap-3 z-20">
              <div class="bg-white/20 backdrop-blur-md p-2 rounded-full">
                <Icon 
                  name={service.icon} 
                  class="w-6 h-6 text-white" 
                  aria-hidden="true"
                />
              </div>
              <h3 class="text-2xl font-bold text-white">{service.category}</h3>
            </div>
          </div>
          
          <div class="p-6">
            <ul class="space-y-3">
              {service.items.map((item, i) => (
                <li 
                  class="flex items-start group/item" 

                >
                  <svg 
                    class="w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0" 
                    fill="none" 
                    stroke="currentColor" 
                    viewBox="0 0 24 24" 
                    xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true"
                  >
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                  <span class="text-gray-600 group-hover/item:text-gray-900 transition-colors">
                    {item}
                  </span>
                </li>
              ))}
            </ul>
            <div class="mt-6 pt-6 border-t border-gray-100">
              <a 
                href="/services"
                class="inline-flex items-center text-blue-600 hover:text-blue-700 font-medium group"
                aria-label={`View more services like ${service.category}`}
              >
                View details
                <svg 
                  class="ml-2 w-5 h-5 transition-transform group-hover:translate-x-1" 
                  fill="none" 
                  stroke="currentColor" 
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                >
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                </svg>
              </a>
            </div>
          </div>
        </article>
      ))}
    </div>
    
    <div class="text-center mt-16">
      <a 
        href="/services" 
        class="inline-flex items-center justify-center px-8 py-4 text-base font-medium text-white bg-blue-500 hover:bg-blue-600 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"
      >
        View all our services
        <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </div>
  
  <style>
    .bg-grid-gray-200\/50 {
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32' width='32' height='32' fill='none' stroke='rgb(229 231 235 / 0.5)'%3e%3cpath d='M0 .5H31.5V32'/%3e%3c/svg%3e");
    }
    
    /* Visible focus for keyboard */
    :focus-visible {
      outline: 2px solid #f97316;
      outline-offset: 2px;
      border-radius: 0.25rem;
    }
  </style>
</section>
