---
import ServicesLayout from "@/layouts/ServicesLayout.astro";

// List of services with local images and improved descriptions
const services = [
  // Painting
  {
    title: "Residential and Commercial Painting",
    description: "Professional painting services for interiors and exteriors with the highest quality standards.",
    url: "/services/painting",
    image: "/images/services/pintura.jpg"
  },
  
  // Bathroom Remodeling
  {
    title: "Bathroom Remodeling",
    description: "Complete bathroom transformation with modern, functional designs and premium materials.",
    url: "/services/bathroom-remodeling",
    image: "/images/services/bathroom.jpg"
  },
  
  // Kitchen Remodeling
  {
    title: "Kitchen Remodeling",
    description: "Kitchen design and renovation to create functional, modern, and welcoming spaces.",
    url: "/services/kitchen-renovations",
    image: "/images/services/remodelacion-general.jpg"
  },
  
  // Bedroom Upgrades
  {
    title: "Bedroom Remodeling",
    description: "Transform your rest spaces into cozy and functional places with our specialized service.",
    url: "/services/bedroom-upgrades",
    image: "/images/services/domitorio2.jpg"
  },
  
  // Drywall Installation
  {
    title: "Drywall Installation and Repair",
    description: "Professional drywall installation and repair service for any type of space.",
    url: "/services/drywall-installation",
    image: "/images/services/drywall.jpg"
  },
  
  // Flooring Installation
  {
    title: "Flooring Installation",
    description: "Wide variety of flooring options to suit every style and need for your home or business.",
    url: "/services/flooring",
    image: "/images/services/piso.jpg"
  },
  
  // Tape & Bed
  {
    title: "Tape & Bed",
    description: "Professional drywall finishing services with tape and joint compound.",
    url: "/services/tape-bed",
    image: "/images/services/drawing.jpg"
  },
  
  // Wall Texture
  {
    title: "Wall Texture",
    description: "Application of decorative textures on interior walls for a unique finish.",
    url: "/services/wall-texture",
    image: "/images/services/texture.jpg"
  },
  
  // Ceiling Texture
  {
    title: "Ceiling Texture",
    description: "Professional texturing for interior ceilings with different styles and finishes.",
    url: "/services/ceiling-texture",
    image: "/images/services/textureceling.jpeg"
  },
  
  // Fencing
  {
    title: "Fence Installation",
    description: "Design and installation of wood, metal, or vinyl fences for greater privacy and security.",
    url: "/services/fencing",
    image: "/images/services/carpinteria.jpg"
  },
  
  // Custom Carpentry
  {
    title: "Custom Carpentry",
    description: "Custom carpentry work for interiors and exteriors, including furniture and decorative elements.",
    url: "/services/custom-woodwork",
    image: "/images/services/carpinteria.jpeg"
  },
  
  // Shelving and Storage
  {
    title: "Shelving and Storage",
    description: "Design and installation of custom shelving and storage solutions.",
    url: "/services/shelving",
    image: "/images/services/muebles.jpeg"
  },
  
  // Landscaping
  {
    title: "Landscaping",
    description: "Design and maintenance of green areas, gardens, and outdoor spaces.",
    url: "/services/landscaping",
    image: "/images/services/landscape.jpg"
  },
  
  // Power Washing
  {
    title: "Power Washing",
    description: "Deep cleaning of exterior surfaces such as facades, floors, and roofs.",
    url: "/services/power-washing",
    image: "/images/services/powerwashing.jpg"
  },
  
  // Green Area Maintenance
  {
    title: "Green Area Maintenance",
    description: "Comprehensive maintenance services for gardens and green areas.",
    url: "/services/outdoor-maintenance",
    image: "/images/services/greenArea.jpg"
  },
  
  // Garden Design
  {
    title: "Garden Design",
    description: "Custom design of gardens and green areas according to your preferences and needs.",
    url: "/services/garden-design",
    image: "/images/services/garden.jpg"
  }
];

// Generar el JSON-LD para SEO
const jsonLd = JSON.stringify({
  "@context": "https://schema.org",
  "@type": "ItemList",
  "itemListElement": services.map((service, index) => ({
    "@type": "ListItem",
    "position": index + 1,
    "item": {
      "@type": "Service",
      "name": service.title,
      "description": service.description,
      "url": new URL(service.url, 'https://sevillaremodeling.com').toString()
    }
  }))
});

---

<ServicesLayout title="Our Services | Sevilla Remodeling LLC">
  <!-- Logo flotante con animación (igual que en la página principal) -->
  <div class="corner-logo">
    <img 
      src="/images/logo.png" 
      alt="Sevilla Remodeling Logo" 
      class="w-32 h-32 lg:w-40 lg:h-40"
    />
  </div>
  
  <style>
    .corner-logo {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1000;
      animation: float 3s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-10px);
      }
    }
    
    @media (max-width: 768px) {
      .corner-logo {
        top: 10px;
        left: 10px;
        width: 80px;
        height: 80px;
      }
    }
  </style>
  <style>
    /* Styles for the services page */
    .services-container { 
      max-width: 1400px; 
      margin: 0 auto; 
      padding: 3rem 2rem; 
      font-family: 'Montserrat', sans-serif;
      position: relative;
      z-index: 1;
    }
    
    .services-header {
      text-align: center;
      margin-bottom: 2rem;
      position: relative;
      z-index: 1;
      background: rgba(255, 255, 255, 0.1);
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .services-title {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      color: #ffffff;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5), 0 0 15px rgba(255, 255, 255, 0.3);
      letter-spacing: 1px;
    }
    
    .services-description {
      max-width: 800px;
      margin: 0 auto;
      font-size: 1.1rem;
      color: #4b5563;
      line-height: 1.6;
      background-color: rgba(255, 255, 255, 0.9);
      border-radius: 0.75rem;
      padding: 1.5rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(10px);
    }
    
    /* Grid de servicios con distribución 4x4 */
    .services-grid { 
      display: grid; 
      grid-template-columns: repeat(4, 1fr); 
      gap: 2rem; 
      margin-top: 3rem;
      position: relative;
      z-index: 2;
    }
    
    /* Responsive para tablets */
    @media (max-width: 1200px) {
      .services-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    /* Responsive para tablets pequeñas */
    @media (max-width: 900px) {
      .services-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    
    /* Responsive para móviles */
    @media (max-width: 600px) {
      .services-grid {
        grid-template-columns: 1fr;
      }
    }
    
    /* Cards con espaciado correcto */
    .service-card {
      background-color: rgba(255, 255, 255, 0.97);
      border-radius: 0.75rem;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      height: 100%;
      border: 1px solid rgba(255, 255, 255, 0.2);
      position: relative;
    }
    
    .service-card:hover {
      transform: translateY(-7px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
      border-color: rgba(255, 255, 255, 0.3);
    }
    
    .service-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #6366f1, #a855f7);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.4s ease;
    }
    
    .service-card:hover::before {
      transform: scaleX(1);
    }
    
    .service-image-container {
      position: relative;
      width: 100%;
      height: 200px;
      overflow: hidden;
    }
    
    .service-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    
    .service-card:hover .service-image {
      transform: scale(1.05);
    }
    
    .service-content {
      padding: 1.5rem;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .service-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 0.75rem;
      line-height: 1.3;
    }
    
    .service-description {
      color: #6b7280;
      margin-bottom: 1rem;
      font-size: 0.9rem;
      line-height: 1.5;
      flex-grow: 1;
    }
    
    .service-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: #3b82f6;
      font-weight: 500;
      text-decoration: none;
      width: fit-content;
      transition: color 0.3s ease;
    }
    
    .service-link:hover {
      color: #2563eb;
    }
    
    .service-link svg {
      transition: transform 0.3s ease;
    }
    
    .service-link:hover svg {
      transform: translateX(5px);
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .services-container {
        padding: 1rem;
      }
      
      .services-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
      
      .services-title {
        font-size: 2.2rem;
      }
      
      .service-content {
        padding: 1.5rem;
      }
    }
    
    @media (max-width: 480px) {
      .services-title {
        font-size: 1.8rem;
      }
      
      .service-title {
        font-size: 1.2rem;
      }
    }
  </style>
  
  <main>
    <div class="services-container">
      <header class="services-header">
        <h1 class="services-title" style="background: linear-gradient(to bottom, #3b82f6, #1e40af); -webkit-background-clip: text; background-clip: text; color: transparent; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
          Our Services
        </h1>
        <p class="services-description bg-white/90 backdrop-blur-md rounded-lg px-8 py-5 shadow-lg max-w-3xl mx-auto">
          Comprehensive remodeling solutions to transform your spaces with quality and style. 
          We have years of experience and a specialized team for each project.
        </p>
      </header>
      
      <div class="services-grid">
        {services.map((service, index) => {
          // Optimización de imágenes: cargar las primeras 6 con prioridad alta
          const loading = index < 6 ? 'eager' : 'lazy';
          const fetchPriority = index < 6 ? 'high' : 'auto';
          
          return (
            <article 
              class="service-card"
              itemscope
              itemtype="https://schema.org/Service"
            >
              <div class="service-image-container">
                <img 
                  src={service.image} 
                  alt={`${service.title} - Service illustrative image`} 
                  class="service-image"
                  loading={loading}
                  fetchpriority={fetchPriority}
                  width={400}
                  height={240}
                  decoding="async"
                />
              </div>
              <div class="service-content">
                <h2 class="service-title" itemprop="name">{service.title}</h2>
                <p class="service-description" itemprop="description">{service.description}</p>
                <a 
                  href={service.url} 
                  class="service-link"
                  aria-label={`See more details about ${service.title}`}
                >
                  See more details
                  <svg 
                    xmlns="http://www.w3.org/2000/svg" 
                    class="h-5 w-5" 
                    viewBox="0 0 20 20" 
                    fill="currentColor"
                    aria-hidden="true"
                  >
                    <path 
                      fill-rule="evenodd" 
                      d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" 
                      clip-rule="evenodd" 
                    />
                  </svg>
                </a>
              </div>
            </article>
          );
        })}
      </div>
    </div>
  </main>
  
  {/* Schema.org JSON-LD para SEO mejorado */}
  <script type="application/ld+json" set:html={jsonLd} />
</ServicesLayout>
